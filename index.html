<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Naff SACCO Tracker</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div class="container">

    <h1>Naff SACCO Daily Tracker</h1>

    <!-- Login Section -->
    <div id="login-section">
      <h3>Login</h3>
      <input type="text" id="login-username" placeholder="Username" />
      <input type="password" id="login-password" placeholder="Password" />
      <button onclick="login()">Login</button>
      <p>Don't have an account? <a href="#" onclick="toggleAuth('signup')">Sign up</a></p>
      <p><a href="#" onclick="toggleAuth('reset')">Forgot Password?</a></p>
    </div>

    <!-- Signup Section -->
  <div id="signup-section" style="display:none;">
  <h3>Sign Up</h3>
  <input type="text" id="signup-username" placeholder="Username" />
  <input type="password" id="signup-password" placeholder="Password" />
  <input type="text" id="signup-phone" placeholder="Phone Number (e.g. +2547...)" />
  <input type="text" id="signup-question" placeholder="Security Question (e.g. pet's name)" />
  <input type="text" id="signup-answer" placeholder="Answer" />
  <button onclick="signup()">Create Account</button>
  <p>Already have an account? <a href="#" onclick="toggleAuth('login')">Login</a></p>
</div>


    <!-- Reset Password -->
    <div id="reset-section" style="display:none;">
      <h3>Reset Password</h3>
      <input type="text" id="reset-username" placeholder="Your Username">
      <button onclick="startReset()">Verify</button>
      <div id="reset-step2" style="display:none;">
        <p id="security-question"></p>
        <input type="text" id="reset-answer" placeholder="Your Answer">
        <input type="password" id="new-password" placeholder="New Password">
        <button onclick="finishReset()">Reset Password</button>
      </div>
    </div>

    <!-- Main App Section -->
    <div id="main-app" style="display:none;">
      <h3>Welcome, <span id="logged-user"></span>!</h3>
      <button onclick="logout()">Logout</button>
      <br/><br/>
      <input type="number" id="amount" placeholder="Amount (Ksh)">
      <input type="text" id="mpesa" placeholder="M-Pesa Transaction ID">
      <button onclick="savePayment()">Save Payment</button>
      <div id="admin-controls" style="display:none;">
        <h4>Admin Panel</h4>
        <input type="text" id="admin-promote-user" placeholder="Username to promote">
        <button onclick="promoteUser()">Promote to Admin</button>
      </div>
      <h4>Payments</h4>
      <ul id="payments-list"></ul>
      <h4>Total: <span id="total">Ksh 0</span></h4>
    </div>

  </div>
  <script src="script.js"></script>
</body>
</html>
